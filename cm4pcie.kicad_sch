(kicad_sch (version 20211123) (generator eeschema)

  (uuid cb25bee4-1d9c-4352-bdc9-6a20904576d4)

  (paper "A3")

  (title_block
    (title "CM4 PCIe")
    (date "2021-11-20")
    (rev "4")
    (company "Copyright Â© 2022 Christian Kuhtz")
    (comment 2 "CERN-OHL-W v2 or later")
  )

  (lib_symbols
  )


  (no_connect (at 111.76 104.14) (uuid 957b2645-92e5-4707-aa32-fa0f4f422f82))
  (no_connect (at 111.76 106.68) (uuid a0c5af35-bd2a-4249-bafa-40e43cd14248))

  (polyline (pts (xy 125.73 53.34) (xy 125.73 38.481))
    (stroke (width 0.1524) (type dash) (color 255 0 0 1))
    (uuid 055a924a-0b2b-4c19-8300-7bcd915b024c)
  )
  (polyline (pts (xy 70.231 53.34) (xy 125.73 53.34))
    (stroke (width 0.1524) (type dash) (color 255 0 0 1))
    (uuid 15e50c9f-2091-409d-aab7-bb64eb069c39)
  )

  (wire (pts (xy 87.63 97.79) (xy 111.76 97.79))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 263db209-b2f3-49fe-a812-0def9b67a18f)
  )
  (wire (pts (xy 210.82 95.25) (xy 228.6 95.25))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 3f1e5279-37b4-4578-8c21-75fadf58f0bd)
  )
  (wire (pts (xy 83.82 82.55) (xy 111.76 82.55))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 438aebc1-fe29-49a3-aa5c-a130595b5051)
  )
  (wire (pts (xy 83.82 92.71) (xy 111.76 92.71))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 48dc50ab-5db7-4b18-9ade-a280e9c069c2)
  )
  (wire (pts (xy 88.9 69.85) (xy 111.76 69.85))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 5912dbad-1c48-4d08-a02e-bdbd430a7157)
  )
  (wire (pts (xy 210.82 100.33) (xy 228.6 100.33))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 5d937487-1c53-4b70-a1c3-a10b15d2a06b)
  )
  (wire (pts (xy 87.63 100.33) (xy 111.76 100.33))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 60fbaee3-2c39-474a-bb02-1fe56867b237)
  )
  (wire (pts (xy 210.82 77.47) (xy 228.6 77.47))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 70047241-97cc-4243-bd46-762b0058880a)
  )
  (polyline (pts (xy 58.42 160.02) (xy 58.42 172.72))
    (stroke (width 0) (type dash) (color 0 0 0 0))
    (uuid 74a19dc2-61b5-4a6b-9b7e-e2e47397a2dd)
  )
  (polyline (pts (xy 58.42 160.02) (xy 160.02 160.02))
    (stroke (width 0) (type dash) (color 0 0 0 0))
    (uuid 74a19dc2-61b5-4a6b-9b7e-e2e47397a2de)
  )
  (polyline (pts (xy 160.02 160.02) (xy 160.02 172.72))
    (stroke (width 0) (type dash) (color 0 0 0 0))
    (uuid 74a19dc2-61b5-4a6b-9b7e-e2e47397a2df)
  )
  (polyline (pts (xy 160.02 172.72) (xy 58.42 172.72))
    (stroke (width 0) (type dash) (color 0 0 0 0))
    (uuid 74a19dc2-61b5-4a6b-9b7e-e2e47397a2e0)
  )
  (polyline (pts (xy 70.231 38.735) (xy 70.231 53.34))
    (stroke (width 0.1524) (type dash) (color 255 0 0 1))
    (uuid 8723442a-a647-4eaa-922a-e16c8bcb4832)
  )

  (wire (pts (xy 210.82 102.87) (xy 228.6 102.87))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 8e775a1e-46d8-42cd-8f49-b575bda94ce3)
  )
  (wire (pts (xy 87.63 104.14) (xy 111.76 104.14))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 98612730-590f-4f32-99b2-2a1e171b9fbe)
  )
  (wire (pts (xy 210.82 80.01) (xy 228.6 80.01))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid af426540-1492-42fa-8868-19ee96017de2)
  )
  (wire (pts (xy 85.09 74.93) (xy 111.76 74.93))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid b361fc81-db16-43e4-bfa7-712b1eef7cbb)
  )
  (wire (pts (xy 210.82 92.71) (xy 228.6 92.71))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid be176fe5-131a-4c6c-91e2-060c7704a5fd)
  )
  (wire (pts (xy 210.82 87.63) (xy 228.6 87.63))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid c37fd429-f04b-4908-a72d-dad006493f17)
  )
  (wire (pts (xy 261.62 72.39) (xy 271.78 72.39))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid d024bb59-c54b-423a-a3e5-81aa34c85722)
  )
  (wire (pts (xy 210.82 85.09) (xy 228.6 85.09))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid e4a85045-d25b-4a95-a5b0-8fb8fbce15a1)
  )
  (polyline (pts (xy 70.231 38.481) (xy 125.73 38.481))
    (stroke (width 0.1524) (type dash) (color 255 0 0 1))
    (uuid e5de91ff-5971-4841-bb8b-41bf95fbc321)
  )

  (wire (pts (xy 83.82 90.17) (xy 111.76 90.17))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid e8499414-4289-4886-8fb0-142d5ddbc4fd)
  )
  (wire (pts (xy 83.82 85.09) (xy 111.76 85.09))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid ecf71538-1e15-4ba5-8a8e-7c996fbc87af)
  )
  (wire (pts (xy 88.9 77.47) (xy 111.76 77.47))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid f6d61b42-0cab-4cf1-b513-ccd08e760a00)
  )
  (wire (pts (xy 87.63 106.68) (xy 111.76 106.68))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid f71e0ffe-7dd0-4a82-9b28-24a327e3b996)
  )
  (wire (pts (xy 210.82 71.12) (xy 228.6 71.12))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid fb192219-7b74-4539-bad8-464f44075ad5)
  )

  (text "PCIe" (at 15.621 22.987 0)
    (effects (font (size 4 4) (thickness 0.8) bold italic) (justify left bottom))
    (uuid 2c16ba96-43e6-42cf-b926-ea0a7c64851e)
  )
  (text "PCIe x1 draws maximum of +3.3V @ 3A, \nuse separate power supply if needed"
    (at 72.771 45.72 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 4161fc69-366e-4bae-8811-f4433e4c24ad)
  )
  (text "Intentionally left blank when PCIe switch removed."
    (at 85.09 167.64 0)
    (effects (font (size 1.27 1.27) (thickness 0.254) bold italic) (justify left bottom))
    (uuid ccfc2fbe-996c-49ed-a07a-cf7a5a0b8a45)
  )
  (text "TX and RX can have PN swaps to improve routing\n" (at 72.771 50.546 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid fe3793a6-e6b0-4ca8-b70f-69764b475cbf)
  )

  (label "M2_1_PET+" (at 210.82 95.25 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 01619a92-2e19-434b-a32f-9d4e1bf6f594)
  )
  (label "M2_1_~{CLKREQ}" (at 111.76 77.47 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 315923e2-198a-4e79-8432-66675172fb6f)
  )
  (label "M2_1_PET-" (at 111.76 90.17 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 579e5a3b-a88c-4db6-a661-eb96599d1ffb)
  )
  (label "M2_1_PER+" (at 111.76 85.09 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 57f6069d-4e94-4d2b-ba20-71c9da3f77e7)
  )
  (label "M2_1_REFCLK+" (at 111.76 100.33 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 633a6562-8f69-4457-9ba6-3fe4d32febeb)
  )
  (label "M2_1_PER-" (at 111.76 82.55 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 7651a0d3-fffe-427b-8766-241f35e1fbc2)
  )
  (label "M2_1_PET-" (at 210.82 92.71 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 901235d3-c2dd-4322-bb29-cb3aaab7f73d)
  )
  (label "M2_1_PET+" (at 111.76 92.71 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 9eafec64-53e3-4730-a734-b6baa1a02d84)
  )
  (label "M2_1_REFCLK-" (at 210.82 100.33 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid a3ec3a72-ed07-41a7-b184-94885e099706)
  )
  (label "+3.3V" (at 210.82 71.12 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid b274cd00-d13e-41e9-b88d-d654b0dc1ceb)
  )
  (label "M2_1_~{PERST}" (at 210.82 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid c2596516-d2d3-434f-a903-47273a28072d)
  )
  (label "M2_1_~{CLKREQ}" (at 210.82 80.01 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid d2bf0f27-52e1-4f63-8693-255653539b43)
  )
  (label "M2_1_REFCLK-" (at 111.76 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid e7b6e422-b4d9-41ec-b27a-e60b2d0b81c3)
  )
  (label "M2_1_PER-" (at 210.82 85.09 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid e83ada35-16e6-4f2e-b5f0-5f58ae149bb4)
  )
  (label "M2_1_REFCLK+" (at 210.82 102.87 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid e9338ae2-517c-4239-81f1-1cc2bbb7a239)
  )
  (label "M2_1_~{PERST}" (at 111.76 74.93 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid f076f9e8-36f2-4339-ab90-d2ca458376cf)
  )
  (label "M2_1_PER+" (at 210.82 87.63 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid f54b02bc-b8ce-4ce5-a667-ed687a28447e)
  )
  (label "+3.3V" (at 111.76 69.85 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid f6e4ed46-39a4-4efb-b7c4-8c4dfaca0e98)
  )

  (hierarchical_label "PET-" (shape input) (at 83.82 92.71 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 0d99a19d-bd27-4807-ac46-a68956ce824b)
  )
  (hierarchical_label "~{PERST}" (shape input) (at 85.09 74.93 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 1ad55e6c-c6e7-4969-9089-9eb0788e6d07)
  )
  (hierarchical_label "REFCLK-" (shape input) (at 87.63 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 2046306a-cda2-44f8-8d31-c6af8d82a86c)
  )
  (hierarchical_label "PCIe_SDA" (shape input) (at 87.63 106.68 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 4c4bb5b0-beea-47d5-8333-95df9033813c)
  )
  (hierarchical_label "PER+" (shape input) (at 83.82 82.55 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 512e36e7-61b0-4589-ad30-b79c9205aae4)
  )
  (hierarchical_label "PCIe_SCL" (shape input) (at 87.63 104.14 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 63f8b108-48dd-4bd6-92b1-ff75c2ef355a)
  )
  (hierarchical_label "+3.3V_PCIe" (shape input) (at 88.9 69.85 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 6ce65acf-e18a-4343-bdd6-e80ba6d006c9)
  )
  (hierarchical_label "M2_1_ACTIVITY_LED" (shape output) (at 271.78 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 7ef7ec86-9c43-4eec-a2a3-6d6ec7ac4459)
  )
  (hierarchical_label "PER-" (shape input) (at 83.82 85.09 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 8e8e5843-84fb-488e-9335-f0f73746f53c)
  )
  (hierarchical_label "PET+" (shape input) (at 83.82 90.17 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid a83a50af-7f36-4f8d-8d18-10bbf8e4f933)
  )
  (hierarchical_label "~{PE_CLKREQ}" (shape input) (at 88.9 77.47 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid ce352e0b-8a03-40e2-940d-9764260baa45)
  )
  (hierarchical_label "REFCLK+" (shape input) (at 87.63 100.33 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid fbd8c9ac-e21f-4334-98c4-e3d3574392d0)
  )

  (sheet (at 228.6 68.58) (size 33.02 39.37)
    (stroke (width 0.0006) (type solid) (color 204 102 0 1))
    (fill (color 255 229 191 1.0000))
    (uuid 4fdb4d7f-9935-4460-8c12-01fdde5939c0)
    (property "Sheet name" "CM4 PCIe M.2 M key Slot 1" (id 0) (at 228.6 67.9443 0)
      (effects (font (size 2 2) bold italic) (justify left bottom))
    )
    (property "Sheet file" "cm4m2mkey.kicad_sch" (id 1) (at 251.46 105.9187 0)
      (effects (font (size 1.27 1.27)) (justify left top) hide)
    )
    (pin "M2_ACTIVITY_LED" output (at 261.62 72.39 0)
      (effects (font (size 1.27 1.27)) (justify right))
      (uuid b43faf68-44f6-4d71-b65e-b83852091876)
    )
    (pin "+3.3VPCIe" input (at 228.6 71.12 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 2ceaef9f-2ea2-4a16-bfcb-cbbf097d3218)
    )
    (pin "REFCLK-" input (at 228.6 100.33 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid fd2b3e9e-d7be-4f6b-b003-f019daf4bac7)
    )
    (pin "PER-" input (at 228.6 85.09 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 97cd461c-6b34-424e-98b6-8b02f90726c1)
    )
    (pin "PER+" input (at 228.6 87.63 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 08d0f1ad-720a-4e9b-acd0-c60d4a583bbc)
    )
    (pin "PET-" input (at 228.6 92.71 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 01e3bb6d-3d03-46b4-a52e-4bc6910fdc66)
    )
    (pin "PET+" input (at 228.6 95.25 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 3f405475-8213-4d6c-8ee3-b648ca93f1f4)
    )
    (pin "REFCLK+" input (at 228.6 102.87 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid c74d8721-d671-431a-a015-5c9d6e43aa4a)
    )
    (pin "~{CLKREQ}" input (at 228.6 80.01 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid cc4edd87-2a80-4464-9319-3abf9d70d50c)
    )
    (pin "~{PERST}" input (at 228.6 77.47 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid f572e47b-a486-4186-98f4-98357a85fce3)
    )
  )
)
